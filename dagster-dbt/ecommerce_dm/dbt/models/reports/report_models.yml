version: 2

models:
  - name: insight_popular_items
    description: |
      This model provides insights into popular items based on sales data.
      It aggregates information such as total tax generated, total discounts given, total revenue, and total quantity ordered for each item.
    columns:
      - name: item_id
        description: The unique identifier for the item.
      - name: item_name
        description: The name of the item.
      - name: total_tax_generated
        description: The total tax generated for the item.
      - name: total_discounts_given
        description: The total discounts given for the item.
      - name: total_revenue
        description: The total revenue generated for the item.
      - name: total_quantity_ordered
        description: The total quantity ordered for the item.
    tags:
      - source: fact_orders
      - source: dim_items

  - name: insight_total_sales
    description: |
      This model provides insights into total sales for each item based on order data.
      It calculates the total sales amount for each item by aggregating the total price of each order.
    columns:
      - name: item_id
        description: The unique identifier of the item.
      - name: item_name
        description: The name of the item.
      - name: total_sales_usd
        description: The total sales amount in USD for the item.
    tags:
      - source: fact_orders
      - source: dim_items

  - name: insight_customer_address
    description: |
      This model provides insights into customer addresses, including the default address information.
    columns:
      - name: customer_id
        description: The unique identifier of the customer.
      - name: default_address_id
        description: The unique identifier of the customer's default address.
      - name: zip
        description: The zip code of the default address.
      - name: province
        description: The province of the default address.
      - name: country
        description: The country of the default address.
    tags:
      - source: dim_customers
      - source: dim_address

  - name: most_purchased_customers
    description: |
      This model provides insights into customers who have made the most purchases, along with their total spending.
    columns:
      - name: customer_id
        description: The unique identifier of the customer.
      - name: total_purchases
        description: The total number of purchases made by the customer.
      - name: total_spent
        description: The total amount spent by the customer across all purchases.
    tags:
      - source: dim_customers
      - source: fact_orders

  - name: top_selling_items
    description: |
      This model provides insights into top-selling items by revenue.
    columns:
      - name: item_id
        description: The unique identifier of the item.
      - name: item_name
        description: The name of the item.
      - name: total_revenue
        description: The total revenue generated by the item.
    tags:
      - source: fact_orders
      - source: dim_items
